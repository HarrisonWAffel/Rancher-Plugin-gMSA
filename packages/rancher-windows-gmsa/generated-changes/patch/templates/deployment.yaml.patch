--- charts-original/templates/deployment.yaml
+++ charts/templates/deployment.yaml
@@ -1,11 +1,13 @@
 apiVersion: apps/v1
 kind: Deployment
 metadata:
-  name: {{ .Release.Name}}
-  namespace: {{.Release.Namespace}}
+  annotations:
+    seccomp.security.alpha.kubernetes.io/pod: runtime/default
+  name: {{ .Release.Name }}
+  namespace: {{ .Release.Namespace }}
   labels: {{ include "gmsa.chartref" . | nindent 4 }}
 spec:
-  replicas: {{ .Values.replicaCount }}
+  replicas: 1
   selector:
     matchLabels:
       app: {{ .Release.Name }}
@@ -18,55 +20,49 @@
       securityContext: {{ toYaml .Values.podSecurityContext | nindent 8 }}
       {{- end }}
       serviceAccountName: {{ .Release.Name }}
-      {{- with .Values.affinity }}
       affinity:
-        {{- toYaml . | nindent 8 }}
-      {{- end }}
+        nodeAffinity:
+          requiredDuringSchedulingIgnoredDuringExecution:
+            nodeSelectorTerms:
+              - matchExpressions:
+                  - key: kubernetes.io/os
+                    operator: In
+                    values:
+                      - linux
       {{- with .Values.tolerations }}
       tolerations:
         {{- toYaml . | nindent 8 }}
       {{- end }}
-      nodeSelector:
-        kubernetes.io/os: linux
-      {{- with .Values.nodeSelector }}
-        {{- toYaml . | nindent 8 }}
-      {{- end }}
       containers:
         - name: {{ .Release.Name }}
-          image: '{{ template "system_default_registry" . }}{{ .Values.image.repository }}:{{ .Values.image.tag }}'
+          image: {{ template "system_default_registry" . }}{{ .Values.image.repository }}:{{ .Values.image.tag }}
           imagePullPolicy: {{ .Values.image.imagePullPolicy }}
           readinessProbe:
             httpGet:
               scheme: HTTPS
               path: /health
-              port: {{ .Values.containerPort }}
+              port: 443
           ports:
-            - containerPort: {{ .Values.containerPort }}
+            - containerPort: 443
+          {{- if .Values.securityContext }}
+          securityContext: {{ toYaml .Values.securityContext | nindent 12 }}
+          {{- end }}
           volumeMounts:
             - name: tls
-              mountPath: "/tls"
+              mountPath: "/etc/ssl/rancher-windows-gmsa-webhook"
               readOnly: true
           env:
             - name: TLS_KEY
-              value: /tls/key
+              value: /etc/ssl/rancher-windows-gmsa-webhook/tls.key
             - name: TLS_CRT
-              value: /tls/crt
-            - name: HTTPS_PORT
-              value: "{{ .Values.containerPort }}"
-      {{- if .Values.securityContext }}
-      securityContext: {{ toYaml .Values.securityContext | nindent 12 }}
-      {{- end }}
+              value: /etc/ssl/rancher-windows-gmsa-webhook/tls.crt
       volumes:
         - name: tls
           secret:
             secretName: {{ .Values.certificates.secretName }}
             items:
               - key: tls.key
-                path: key
+                path: tls.key
               - key: tls.crt
-                path: crt
-      {{- if and (.Values.setPodOs) (ge .Capabilities.KubeVersion.Minor "24")}}
-      os:
-        name: linux
-      {{- end -}}
+                path: tls.crt
 
